---
import '../styles/global.css';

export interface Props {
  title?: string;
}

const { title = 'Fraud Investigator | Professional Portfolio' } = Astro.props;
---

<!DOCTYPE html>
<html lang="id" class="overflow-x-hidden">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Professional Fraud Investigator - Spesialis investigasi fraud digital, forensik keuangan, dan analisis pola kecurangan." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>" />
  <title>{title}</title>
</head>
<body class="scanlines noise">

  <!-- Custom Cursor -->
  <div class="cursor" id="cursor"></div>
  <div class="cursor-follower" id="cursorFollower"></div>

  <!-- Navbar -->
  <header id="navbar" class="fixed top-0 w-full z-[9999] transition-all duration-300">
    <nav class="py-4 px-6 flex justify-between items-center backdrop-blur-md bg-[#030a0e]/80 border-b border-cyan-500/10">
      <a href="/" class="font-display text-xl font-black text-cyan-400 glow-blue tracking-widest hover:text-white transition-colors">
        &lt;HRK /&gt;
      </a>

      <div class="flex items-center gap-6 text-sm">
        <a href="#skills" class="text-cyan-400/70 hover:text-cyan-400 transition-colors tracking-widest uppercase text-xs">/Skills</a>
        <a href="#experience" class="text-cyan-400/70 hover:text-cyan-400 transition-colors tracking-widest uppercase text-xs">/Experience</a>
        <a href="#contact" class="text-cyan-400/70 hover:text-cyan-400 transition-colors tracking-widest uppercase text-xs">/Contact</a>
        <a
          href="#contact"
          class="btn-shimmer px-4 py-2 border border-crimson-DEFAULT text-crimson-DEFAULT hover:bg-crimson-DEFAULT hover:text-white transition-all text-xs tracking-widest uppercase"
          style="color: #ff2244; border-color: #ff2244;"
        >
          Hire Me
        </a>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <slot />
  </main>

  <!-- Footer -->
  <footer class="py-8 border-t border-cyan-500/10 text-center">
    <p class="text-cyan-400/40 text-xs tracking-widest font-mono">
      ¬© 2024 FRAUD INVESTIGATOR PORTFOLIO &mdash; BUILT WITH ASTRO + TAILWIND
    </p>
  </footer>

  <!-- Scripts -->
  <script>
    // Custom cursor
    const cursor = document.getElementById('cursor');
    const follower = document.getElementById('cursorFollower');
    let mouseX = 0, mouseY = 0;
    let followerX = 0, followerY = 0;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      if (cursor) {
        cursor.style.left = mouseX - 6 + 'px';
        cursor.style.top = mouseY - 6 + 'px';
      }
    });

    function animateFollower() {
      followerX += (mouseX - followerX) * 0.1;
      followerY += (mouseY - followerY) * 0.1;
      if (follower) {
        follower.style.left = followerX - 18 + 'px';
        follower.style.top = followerY - 18 + 'px';
      }
      requestAnimationFrame(animateFollower);
    }
    animateFollower();

    // Hover effect on links
    document.querySelectorAll('a, button').forEach(el => {
      el.addEventListener('mouseenter', () => {
        cursor?.style.setProperty('transform', 'scale(2)');
        follower?.style.setProperty('transform', 'scale(1.5)');
      });
      el.addEventListener('mouseleave', () => {
        cursor?.style.setProperty('transform', 'scale(1)');
        follower?.style.setProperty('transform', 'scale(1)');
      });
    });

    // Navbar scroll effect
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar?.classList.add('shadow-lg', 'shadow-cyan-500/5');
      }
    });

    // Scroll reveal
    const reveals = document.querySelectorAll('.reveal');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, i) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            entry.target.classList.add('visible');
          }, (entry.target as HTMLElement).dataset.delay ? parseInt((entry.target as HTMLElement).dataset.delay!) : 0);
        }
      });
    }, { threshold: 0.1 });

    reveals.forEach(el => observer.observe(el));
  </script>
</body>
</html>
